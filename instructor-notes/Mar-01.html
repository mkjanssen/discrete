<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2021-04-05T11:29:31-05:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Mar. 1: Advanced PIE</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://pretextbook.org/js/lib/mathjaxknowl.js", "AMScd.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_blue_grey.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div xmlns:svg="http://www.w3.org/2000/svg" id="latex-macros" class="hidden-content" style="display:none">\({\labelitemi}{$\diamond$}
\def\arraystretch{1.5}
\newcommand{\contentsfinish}{}
\newcommand{\separator}{\begin{center}\rule{\columnwidth}{\arrayrulewidth}\end{center}}
\newcommand{\tosay}[1]{\begin{center}\text{\fbox{\scriptsize{#1}}}\end{center}}
\renewcommand{\cftsecfont}{}
\renewcommand{\cftsecpagefont}{}
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\smallcaps{#1}}
\def\oldequation{\equation}
\def\endoldequation{\endequation}
\newcommand{\nl}{
}
\newcommand{\runin}[1]{\textls[50]{\otherscshape #1}}
\renewcommand{\sectionmark}[1]{}
\renewcommand{\subsectionmark}[1]{}
\renewcommand{\sectionmark}[1]{\markboth{{\thesection}.\ \smallcaps{#1}}{\thesection.\ \smallcaps{#1}}}
\renewcommand{\subsectionmark}[1]{}
\renewcommand{\sectionmark}[1]{\markboth{{\scriptsize\thesection}.\ \smallcaps{#1}}{}}
\renewcommand{\subsectionmark}[1]{}
\newcommand{\makedefaultsection}[2][true]{
}
\newcommand{\timestamp}{{\color{red}Last updated: {\currenttime\ (UTC), \today}}}
\renewcommand{\le}{\leqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
\renewcommand{\ge}{\geqslant}
\newcommand{\ideal}[1]{\left\langle\, #1 \,\right\rangle}
\newcommand{\subgp}[1]{\left\langle\, #1 \,\right\rangle}
\def\p{\varphi}
\def\isomorphic{\cong}
\def\imp{\to}
\def\iff{\leftrightarrow}
\def\Gal{\text{Gal}}
\def\im{\text{im}}
\def\ran{\text{ran}}
\def\normal{\vartriangleleft}
\renewcommand{\qedsymbol}{$\checkmark$}
\def\lcm{{\text{lcm}\,}}
\newcommand{\q}[1]{{\color{red} {#1}}}
\newcommand{\startimportant}[1]{\end{[{Hint:} #1]\end}}
\renewcommand{\textcircled}[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=2pt,color=red] (char) {#1};}}
\newcommand{\crossout}[1]{\tikz[baseline=(char.base)]{\node[mynode, cross out,draw] (char) {#1};}}
\newcommand{\set}[1]{\left\{ {#1} \right\}}
\newcommand{\setof}[2]{{\left\{#1\,\colon\,#2\right\}}}
\def\C{{\mathbb C}}
\def\Z{{\mathbb Z}}
\def\bF{{\mathbb F}}
\def\Q{{\mathbb Q}}
\def\N{{\mathbb N}}
\def\U{{\mathcal U}}
\def\pow{{\mathcal P}}
\def\R{{\mathbb R}}
\newcommand{\h}[1]{{\textbf{#1}}}
\def\presnotes{}

\renewcommand{\d}{\displaystyle}
\newcommand{\N}{\mathbb N}
\newcommand{\B}{\mathbf B}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\C}{\mathbb C}
\newcommand{\U}{\mathcal U}
\newcommand{\pow}{\mathcal P}
\newcommand{\inv}{^{-1}}
\newcommand{\st}{:}
\renewcommand{\iff}{\leftrightarrow}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand{\imp}{\rightarrow}
\newcommand{\Imp}{\Rightarrow}
\newcommand{\isom}{\cong}

\renewcommand{\bar}{\overline}
\newcommand{\card}[1]{\left| #1 \right|}
\newcommand{\twoline}[2]{\begin{pmatrix}#1 \\ #2 \end{pmatrix}}

\newcommand{\vtx}[2]{node[fill,circle,inner sep=0pt, minimum size=4pt,label=#1:#2]{}}
\newcommand{\va}[1]{\vtx{above}{#1}}
\newcommand{\vb}[1]{\vtx{below}{#1}}
\newcommand{\vr}[1]{\vtx{right}{#1}}
\newcommand{\vl}[1]{\vtx{left}{#1}}
\renewcommand{\v}{\vtx{above}{}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="book-1.html"><span class="title">Discrete Structures Learning Guides</span></a></h1>
<p class="byline">Mike Janssen</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="Week-08.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="Week-08.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="Mar-03.html" title="Next">Next</a></span>
</div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="Week-08.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="Week-08.html" title="Up">Up</a><a class="next-button button toolbar-item" href="Mar-03.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter">
<a href="frontmatter-1.html" data-scroll="frontmatter-1"><span class="title">Front Matter</span></a><ul>
<li><a href="colophon-1.html" data-scroll="colophon-1">Colophon</a></li>
<li><a href="acknowledgement-1.html" data-scroll="acknowledgement-1">Acknowledgements</a></li>
<li><a href="Sec-NoteToStudents.html" data-scroll="Sec-NoteToStudents">A Note to Students</a></li>
</ul>
</li>
<li class="link">
<a href="Week-01.html" data-scroll="Week-01"><span class="codenumber">1</span> <span class="title">Week 1: Jan. 15</span></a><ul><li><a href="Jan-15.html" data-scroll="Jan-15">Jan. 15: Course Intro/Statements</a></li></ul>
</li>
<li class="link">
<a href="Week-02.html" data-scroll="Week-02"><span class="codenumber">2</span> <span class="title">Week 2: Jan. 18-22</span></a><ul>
<li><a href="Jan-18.html" data-scroll="Jan-18">Jan. 18: Implications</a></li>
<li><a href="Jan-20.html" data-scroll="Jan-20">Jan. 20: Converses, Contrapositives, Predicates and Quantifiers</a></li>
<li><a href="Jan-22.html" data-scroll="Jan-22">Jan. 22: Negations, Sets and Relationships</a></li>
</ul>
</li>
<li class="link">
<a href="Week-03.html" data-scroll="Week-03"><span class="codenumber">3</span> <span class="title">Week 3: Jan. 25-29</span></a><ul>
<li><a href="Jan-25.html" data-scroll="Jan-25">Jan. 25: Operations on Sets</a></li>
<li><a href="Jan-27.html" data-scroll="Jan-27">Jan. 27: Set Operations, Relations, and Equivalence Relations</a></li>
<li><a href="Jan-29.html" data-scroll="Jan-29">Jan. 29: Relations</a></li>
</ul>
</li>
<li class="link">
<a href="Week-04.html" data-scroll="Week-04"><span class="codenumber">4</span> <span class="title">Week 4: Feb. 1-5</span></a><ul>
<li><a href="Feb-01.html" data-scroll="Feb-01">Feb. 1: Functions</a></li>
<li><a href="Feb-03.html" data-scroll="Feb-03">Feb. 3: Functions and Reading Discussion</a></li>
<li><a href="Feb-05.html" data-scroll="Feb-05">Feb. 5: Functions</a></li>
</ul>
</li>
<li class="link">
<a href="Week-05.html" data-scroll="Week-05"><span class="codenumber">5</span> <span class="title">Week 5: Feb. 8-12</span></a><ul>
<li><a href="Feb-08.html" data-scroll="Feb-08">Feb. 8: The Additive and Multiplicative Principles</a></li>
<li><a href="Feb-10.html" data-scroll="Feb-10">Feb. 10: More Counting with Sets and PIE</a></li>
<li><a href="Feb-12.html" data-scroll="Feb-12">Feb. 12: Binomial Coefficients I</a></li>
</ul>
</li>
<li class="link">
<a href="Week-06.html" data-scroll="Week-06"><span class="codenumber">6</span> <span class="title">Week 6: Feb. 15-19</span></a><ul>
<li><a href="Feb-17.html" data-scroll="Feb-17">Feb. 17: Bionomial Coefficients II</a></li>
<li><a href="Feb-19.html" data-scroll="Feb-19">Feb. 19: Permutations and Combinations</a></li>
</ul>
</li>
<li class="link">
<a href="Week-07.html" data-scroll="Week-07"><span class="codenumber">7</span> <span class="title">Week 7: Feb. 22-26</span></a><ul>
<li><a href="Feb-22.html" data-scroll="Feb-22">Feb. 22: Combinatorial Proofs I</a></li>
<li><a href="Feb-24.html" data-scroll="Feb-24">Feb. 24: Reading Discussion and Combinatorial Proofs II</a></li>
<li><a href="Feb-26.html" data-scroll="Feb-26">Feb. 26: Stars and Bars</a></li>
</ul>
</li>
<li class="link">
<a href="Week-08.html" data-scroll="Week-08"><span class="codenumber">8</span> <span class="title">Week 8: Mar. 1-5</span></a><ul>
<li><a href="Mar-01.html" data-scroll="Mar-01" class="active">Mar. 1: Advanced PIE</a></li>
<li><a href="Mar-03.html" data-scroll="Mar-03">Mar. 3: Review and Catchup</a></li>
<li><a href="Mar-05.html" data-scroll="Mar-05">Mar. 5: Exam 1</a></li>
</ul>
</li>
<li class="link">
<a href="Week-09.html" data-scroll="Week-09"><span class="codenumber">9</span> <span class="title">Week 9: Mar. 8-12</span></a><ul>
<li><a href="Mar-08.html" data-scroll="Mar-08">Mar. 8: Describing Sequences</a></li>
<li><a href="Mar-10.html" data-scroll="Mar-10">Mar. 10: Arithmetic and Geometric Sequences</a></li>
<li><a href="Mar-12.html" data-scroll="Mar-12">Mar. 12: Polynomial Fitting</a></li>
</ul>
</li>
<li class="link">
<a href="Week-10.html" data-scroll="Week-10"><span class="codenumber">10</span> <span class="title">Week 10: Mar. 15-19</span></a><ul>
<li><a href="Mar-15.html" data-scroll="Mar-15">Mar. 15: Recurrence Relations</a></li>
<li><a href="Mar-17.html" data-scroll="Mar-17">Mar. 17: Induction I</a></li>
<li><a href="Mar-19.html" data-scroll="Mar-19">Mar. 19: Induction II</a></li>
</ul>
</li>
<li class="link">
<a href="Week-11.html" data-scroll="Week-11"><span class="codenumber">11</span> <span class="title">Week 11: Mar. 22-26</span></a><ul>
<li><a href="Mar-22.html" data-scroll="Mar-22">Mar. 22: Propositional Logic I</a></li>
<li><a href="Mar-24.html" data-scroll="Mar-24">Mar. 24</a></li>
<li><a href="Mar-26.html" data-scroll="Mar-26">Mar. 26: Direct Proofs</a></li>
</ul>
</li>
<li class="link">
<a href="Week-12.html" data-scroll="Week-12"><span class="codenumber">12</span> <span class="title">Week 12: Mar. 29-Apr. 2</span></a><ul>
<li><a href="Mar-29.html" data-scroll="Mar-29">Mar. 29: Proof by Contradiction</a></li>
<li><a href="Mar-31.html" data-scroll="Mar-31">Mar. 31: Other Types of Proof</a></li>
<li><a href="Apr-02.html" data-scroll="Apr-02">Apr. 2: Intro to Graph Theory</a></li>
</ul>
</li>
<li class="link">
<a href="Week-13.html" data-scroll="Week-13"><span class="codenumber">13</span> <span class="title">Week 13: Apr. 5-Apr. 9</span></a><ul>
<li><a href="Apr-05.html" data-scroll="Apr-05">Apr. 5: Further Background in Graph Theory</a></li>
<li><a href="Apr-09.html" data-scroll="Apr-09">Apr. 09: Trees I</a></li>
</ul>
</li>
<li class="link">
<a href="Week-14.html" data-scroll="Week-14"><span class="codenumber">14</span> <span class="title">Week 14: Apr. 12-Apr. 16</span></a><ul>
<li><a href="Apr-12.html" data-scroll="Apr-12">Apr. 12: Trees II</a></li>
<li><a href="Apr-14.html" data-scroll="Apr-14">Apr. 14: Planarity</a></li>
<li><a href="Apr-16.html" data-scroll="Apr-16">Apr. 16: Independent Portfolio Work Day</a></li>
</ul>
</li>
<li class="link">
<a href="Week-15.html" data-scroll="Week-15"><span class="codenumber">15</span> <span class="title">Week 15: Apr. 19-Apr. 23</span></a><ul>
<li><a href="Apr-19.html" data-scroll="Apr-19">Apr. 19: Graph Coloring</a></li>
<li><a href="Apr-21.html" data-scroll="Apr-21">Apr. 21</a></li>
<li><a href="Apr-23.html" data-scroll="Apr-23">Apr. 23</a></li>
</ul>
</li>
<li class="link">
<a href="Week-16.html" data-scroll="Week-16"><span class="codenumber">16</span> <span class="title">Week 16: Apr. 26-Apr. 30</span></a><ul>
<li><a href="Apr-26.html" data-scroll="Apr-26">Apr. 26</a></li>
<li><a href="Apr-28.html" data-scroll="Apr-28">Apr. 28</a></li>
<li><a href="Apr-30.html" data-scroll="Apr-30">Apr. 30</a></li>
</ul>
</li>
<li class="link backmatter"><a href="backmatter-1.html" data-scroll="backmatter-1"><span class="title">Back Matter</span></a></li>
<li class="link"><a href="index-1.html" data-scroll="index-1"><span class="title">Index</span></a></li>
<li class="link">
<a href="appendix-counting.html" data-scroll="appendix-counting"><span class="codenumber">A</span> <span class="title">Counting Techniques</span></a><ul>
<li><a href="section-45.html" data-scroll="section-45">Additive and Multiplicative Principles</a></li>
<li><a href="section-46.html" data-scroll="section-46">PIE</a></li>
<li><a href="section-47.html" data-scroll="section-47">Binomial Coefficients</a></li>
<li><a href="section-48.html" data-scroll="section-48">Permutations</a></li>
<li><a href="section-49.html" data-scroll="section-49">Stars and Bars</a></li>
<li><a href="section-50.html" data-scroll="section-50">Anagrams</a></li>
</ul>
</li>
</ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="section" id="Mar-01"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">8.1</span> <span class="title">Mar. 1: Advanced PIE</span>
</h2>
<section class="introduction" id="introduction-26"><article class="assemblage assemblage-like" id="assemblage-49"><h6 class="heading"><span class="title">Motivating Questions.</span></h6>
<p id="p-299">Here are some questions we'll consider. <ol class="decimal">
<li id="li-378">How can we use PIE in more complicated counting questions?</li>
<li id="li-379">How can we translate existing counting questions to questions about counting functions?</li>
</ol></p></article></section><section class="subsection" id="subsection-54"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.1.1</span> <span class="title">Outline</span>
</h3>
<p id="p-300">Today's material comes from <a class="external" href="http://discrete.openmathbooks.org/dmoi3/sec_advPIE.html" target="_blank">Section 1.6</a> of the book. You're encouraged to read it before coming to class.</p>
<section class="subsubsection" id="subsubsection-45"><h4 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">8.1.1.1</span> <span class="title">Advanced PIE</span>
</h4>
<article class="investigation project-like" id="icR"><h6 class="heading">
<span class="type">Investigation</span><span class="space"> </span><span class="codenumber">8.1.1</span><span class="period">.</span>
</h6>
<p id="lVM">You have 11 identical mini key-lime pies to give to 4 children. However, you don't want any kid to get more than 3 pies. How many ways can you distribute the pies?</p>
<ol class="decimal">
<li id="Wyt"><p id="cXz">How many ways are there to distribute the pies without any restriction?</p></li>
<li id="CFC"><p id="JeI">Let's get rid of the ways that one or more kid gets too many pies. How many ways are there to distribute the pies if Al gets too many pies? What if Bruce gets too many? Or Cat? Or Dent?</p></li>
<li id="iML"><p id="plR">What if two kids get too many pies? How many ways can this happen? Does it matter which two kids you pick to overfeed?</p></li>
<li id="OTU"><p id="Vta">Is it possible that three kids get too many pies? If so, how many ways can this happen?</p></li>
<li id="vbd"><p id="BAj">How should you combine all the numbers you found above to answer the original question?</p></li>
</ol>
<p id="ScV">Suppose now you have 13 pies and 7 children. No child can have more than 2 pies. How many ways can you distribute the pies?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-13" id="solution-13"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-13"><div class="solution solution-like"><ol class="decimal">
<li id="li-385">This is a stars and bars problem; there are \(\binom{11+3}{3} = 364\) ways to distribute the pies.</li>
<li id="li-386">Suppose Al gets 4 pies. Now he is guaranteed too many. There are 7 pies left to distribute among the four children; there are \(\binom{7 + 3}{3} = 120\) ways for Al to get too many pies. Since there are 4 children, there are \(\binom{4}{1} \cdot \binom{10}{3}\) ways for at least one child to get too many pies.</li>
<li id="li-387">Now suppose we give two children too many pies. There are \(\binom{4}{2}\) ways to choose the children. We'll give each four pies, leaving 3 to be distributed in \(\binom{3+3}{3}\) ways. There are then \(\binom{4}{2}\cdot \binom{6}{3}\) ways four two or more children to get too many pies.</li>
<li id="li-388">It is not possible for three or more kids to get too many pies; thus the number we calculated in the previous part was the number of ways for exactly two kids to get too many pies.</li>
<li id="li-389">There are \(\binom{14}{3}\) total ways to distribute the pies without restriction. There are \(\binom{4}{1}\binom{10}{3}\) ways that one or more kids get too many pies, but we are double-counting the situations in which two kids get too many pies. So we add back the number of times two kids get too many pies, \(\binom{4}{2}\cdot \binom{6}{3}\text{:}\)<div class="displaymath">
\begin{equation*}
\binom{14}{3} - \binom{4}{1}\binom{10}{3} + \binom{4}{2}\cdot \binom{6}{3}= 4.
\end{equation*}
</div>This makes sense. The only way to ensure that no one is getting more than 3 is to give 3 to 3 kids and 2 to one. There are 4 ways to choose the kids who gets 2 pies.</li>
<li id="li-390">Presumably there are seven ways.<div class="displaymath">
\begin{equation*}
\binom{19}{6} - \binom{7}{1}\binom{16}{6} + \binom{7}{2}\binom{13}{6}-\binom{7}{3}\binom{10}{6}+\binom{7}{4}\binom{7}{6} = 7.
\end{equation*}
</div>
</li>
</ol></div></div></article><article class="example example-like" id="example-6"><h6 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">8.1.1</span><span class="period">.</span>
</h6>
<p id="p-308">How many ways are there to give 10 cookies to 5 kids if we insist that no kid get more than 3 cookies (and we're allowed to give a kid zero cookies)?</p>
<div class="solutions">
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-14" id="solution-14"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-14"><div class="solution solution-like">
<p id="p-309">Without the “no more than 3” restriction, this is a stars and bars problem. There are \(\binom{14}{4}\) ways to distribute 10 cookies to 5 kids. However, this is too many, as it includes instances of, e.g., giving all 10 cookies to a single kid, so let's remove such aberrant possibilities.</p>
<p id="p-310">Start by giving <em class="emphasis">one</em> kid 4 cookies. Then distribute the remaining 6 to all 5 kids with no restrictions. There are 5 choices for the kid who gets too many, and then \(5\cdot\binom{10}{4}\) ways to distribute the cookies—but be careful! We have counted the outcomes where two kids get at least four cookies multiple times. Thus, we need PIE. There are \(\binom{5}{2}\) ways to select which two kids will get spoiled. Then there are two cookies left to distribute to 5 kids, which can happen in \(\binom{6}{4}\) ways.</p>
<p id="p-311">We are not able to give three kids four or more cookies, as we only have 10 to go around. Thus, the number of ways is:</p>
<div class="displaymath">
\begin{equation*}
\binom{14}{4} - \left[\binom{5}{1} \binom{10}{4} + \binom{5}{2}\binom{6}{4}\right] = 101.
\end{equation*}
</div>
</div></div>
</div></article></section><section class="subsubsection" id="subsubsection-46"><h4 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">8.1.1.2</span> <span class="title">Counting Derangements</span>
</h4>
<article class="investigation project-like" id="MuN"><h6 class="heading">
<span class="type">Investigation</span><span class="space"> </span><span class="codenumber">8.1.2</span><span class="period">.</span>
</h6>
<p id="CTX">For your senior prank, you decide to switch the nameplates on your favorite 5 professors' doors. So that none of them feel left out, you want to make sure that all of the nameplates end up on the wrong door. How many ways can this be accomplished?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-15" id="solution-15"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-15"><div class="solution solution-like">
<p id="p-313">There are \(5!\) permutations in total. Then there are \(\binom{5}{1}\) choices for an element to fix, and \(4!\) ways to permute the other elements. But this will inevitably fix some of the four elements, so we've overcounted. So let's get rid of the permutations that fix two elements: there are \(\binom{5}{2}\) choices for the two fixed elements, and 3! ways to permute the remaining elements. But this overcounts the permutations that fix 3 or more elements. Continuing in this way, we find there are</p>
<div class="displaymath">
\begin{equation*}
5! - \binom{5}{1}4! + \binom{5}{2}3! - \binom{5}{3} 2! + \binom{5}{4} 1! - \binom{5}{5}0! = 44 \text{ ways}.
\end{equation*}
</div>
</div></div></article><article class="example example-like" id="Agv"><h6 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">8.1.2</span><span class="period">.</span>
</h6>
<p id="oQs">How many derangements are there of 4 elements?</p>
<div class="solutions">
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-GFB" id="GFB"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-GFB"><div class="solution solution-like">
<p id="Ckd">We count all permutations, and subtract those which are not derangements. There are \(4! = 24\) permutations of 4 elements. Now for a permutation to <em class="emphasis">not</em> be a derangement, at least one of the 4 elements must be fixed. There are \({4 \choose 1}\) choices for which single element we fix. Once fixed, we need to find a permutation of the other three elements. There are \(3!\) permutations on 3 elements.</p>
<p id="irm">But now we have counted too many non-derangements, so we must subtract those permutations which fix two elements. There are \({4 \choose 2}\) choices for which two elements we fix, and then for each pair, \(2!\) permutations of the remaining elements. But this subtracts too many, so add back in permutations which fix 3 elements, all \({4 \choose 3}1!\) of them. Finally subtract the \({4 \choose 4}0!\) permutations (recall \(0! = 1\)) which fix all four elements. All together we get that the number of derangements of 4 elements is:</p>
<div class="displaymath">
\begin{equation*}
4! - \left[{4 \choose 1}3! - {4 \choose 2}2! + {4 \choose 3} 1! - {4 \choose 4}0!\right] = 24 - 15 = 9\text{.}
\end{equation*}
</div>
</div></div>
</div></article></section><section class="subsubsection" id="subsubsection-47"><h4 class="heading hide-type">
<span class="type">Subsubsection</span> <span class="codenumber">8.1.1.3</span> <span class="title">Counting Functions</span>
</h4>
<article class="investigation project-like" id="dsY"><h6 class="heading">
<span class="type">Investigation</span><span class="space"> </span><span class="codenumber">8.1.3</span><span class="period">.</span>
</h6>
<ol id="jbg" class="decimal">
<li id="bim"><p id="mrl">Consider all functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\text{.}\) How many functions are there all together? How many of those are injective? Remember, a function is an injection if every input goes to a different output.</p></li>
<li id="Hpv">
<p id="Syu">Consider all functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\text{.}\) How many of the <em class="emphasis">injections</em> have the property that \(f(x) \ne x\) for any \(x \in \{1,2,3,4,5\}\text{?}\) </p>
<p id="yFD">Your friend claims that the answer is:</p>
<div class="displaymath">
\begin{equation*}
5! - \left[ {5\choose 1}4! - {5 \choose 2}3! + {5\choose 3}2! - {5 \choose 4}1! + {5\choose 5}0! \right]\text{.}
\end{equation*}
</div>
<p id="eMM">Explain why this is correct.</p>
</li>
<li id="nwE"><p id="KTV">Recall that a <em class="emphasis">surjection</em>  is a function for which every element of the codomain is in the range. How many of the functions \(f: \{1,2,3,4,5\} \to \{1,2,3,4,5\}\) are surjective? Use PIE!</p></li>
</ol>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-17" id="solution-17"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-17"><div class="solution solution-like"><ol class="decimal">
<li id="li-394">There are \(5^5 = 3125\) total functions. An injection corresponds to a permutation of \(1, \ldots, 5\text{,}\) so there are \(5! = 120\) injections.</li>
<li id="li-395">This is the professor door nameplate problem again. There are 44.</li>
<li id="li-396">Since the domain and codomain have the same cardinality, a function is surjective iff it is injective, so there are 120. Alternatively, a function that is not surjective must exclude one or more elements from the domain. There are \(4^5\) functions which exclude \(1\) (similarly, which exclude 2, 3, 4, or 5), so \(5\cdot 4^5\) functions which exclude at least 1 element. But we've overcounted, as usual, so we need to add some back in. There are \(\binom{5}{2}\cdot 3^5\) ways to exclude 2 or more elements, \(\binom{5}{3} 2^5\) ways to exclude 3 or more elements, and \(\binom{5}{4}\cdot 1^5 = 5\) ways to exclude four elements. Putting it all together:<div class="displaymath">
\begin{equation*}
5^5- 5\cdot 4^5 + \binom{5}{2}\cdot 3^5 - \binom{5}{3}\cdot 2^5 + \binom{5}{4}\cdot 1^5 = 120\text{ functions}.
\end{equation*}
</div>
</li>
</ol></div></div></article><article class="example example-like" id="kXx"><h6 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">8.1.3</span><span class="period">.</span>
</h6>
<ol id="tAl" class="decimal">
<li id="EuP"><p id="PDO">How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c,d\}\) are surjective?</p></li>
<li id="kBY"><p id="vKX">How many functions \(f: \{1,2,3,4,5\} \to \{a,b,c,d,e\}\) are surjective?</p></li>
</ol>
<div class="solutions">
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-Lpu" id="Lpu"><span class="type">Solution</span></a><div class="hidden-content tex2jax_ignore" id="hk-Lpu"><div class="solution solution-like"><ol id="LDP" class="decimal">
<li id="QJh">
<p id="bSg">There are \(4^5\) functions all together; we will subtract the functions which are not surjective. We could exclude any one of the four elements of the codomain, and doing so will leave us with \(3^5\) functions for each excluded element. This counts too many so we subtract the functions which exclude two of the four elements of the codomain, each pair giving \(2^5\) functions. But this excludes too many, so we add back in the functions which exclude three of the four elements of the codomain, each triple giving \(1^5\) function. There are \({4 \choose 1}\) groups of functions excluding a single element, \({4 \choose 2}\) groups of functions excluding a pair of elements, and \({4 \choose 3}\) groups of functions excluding a triple of elements. This means that the number of functions which are <em class="emphasis">not</em> surjective is:</p>
<div class="displaymath">
\begin{equation*}
{4 \choose 1}3^5 - {4 \choose 2}2^5 + {4 \choose 3}1^5\text{.}
\end{equation*}
</div>
<p class="continuation">We can now say that the number of functions which are surjective is:</p>
<div class="displaymath">
\begin{equation*}
4^5 - \left[{4 \choose 1}3^5 - {4 \choose 2}2^5 + {4 \choose 3}1^5\right]\text{.}
\end{equation*}
</div>
</li>
<li id="wQq">
<p id="HZp">The number of surjective functions is:</p>
<div class="displaymath">
\begin{equation*}
5^5 - \left[{5 \choose 1}4^5 - {5 \choose 2}3^5 + {5 \choose 3}2^5 - {5 \choose 4}1^5\right]\text{.}
\end{equation*}
</div>
<p class="continuation">We took the total number of functions \(5^5\) and subtracted all that were not surjective. There were \({5 \choose 1}\) ways to select a single element from the codomain to exclude from the range, and for each there were \(4^5\) functions. But this double counts, so we use PIE and subtract functions excluding two elements from the range: there are \({5 \choose 2}\) choices for the two elements to exclude, and for each pair, \(3^5\) functions. This takes out too many functions, so we add back in functions which exclude 3 elements from the range: \({5 \choose 3}\) choices for which three to exclude, and then \(2^5\) functions for each choice of elements. Finally we take back out the 1 function which excludes 4 elements for each of the \({5 \choose 4}\) choices of 4 elements.</p>
<p id="ogy">If you happen to calculate this number precisely, you will get 120 surjections. That happens to also be the value of \(5!\text{.}\) This might seem like an amazing coincidence until you realize that every surjective function \(f:X \to Y\) with \(\card{X} = \card{Y}\) finite must necessarily be a bijection. The number of bijections is always \(\card{X}!\) in this case. What we have here is a <em class="emphasis">combinatorial proof</em> of the following identity:</p>
<div class="displaymath">
\begin{equation*}
n^n - \left[{n\choose 1}(n-1)^n - {n \choose 2}(n-2)^n + \cdots + {n \choose n-1}1^n \right] = n!\text{.}
\end{equation*}
</div>
</li>
</ol></div></div>
</div></article></section></section><section class="subsection" id="subsection-55"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.1.2</span> <span class="title">Today's Screencast</span>
</h3>
<article class="insight remark-like" id="insight-19"><h6 class="heading">
<span class="type">Screencast</span><span class="space"> </span><span class="codenumber">8.1.4</span><span class="period">.</span>
</h6></article></section><section class="subsection" id="subsection-56"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">8.1.3</span> <span class="title">If you missed class today</span>
</h3>
<ol class="decimal">
<li id="li-401">Work through today's outline and read the marked pages in the book.</li>
<li id="li-402">Watch the screencast above.</li>
<li id="li-403">Submit any homework/assignments due today (check our <a class="external" href="https://dordt.instructure.com/courses/3110050" target="_blank">Canvas course</a> or the <a class="external" href="https://prof.mkjanssen.org/ds/index.html#schedule" target="_blank">syllabus schedule</a> to see what's due).</li>
<li id="li-404">
<a class="external" href="mailto:mike.janssen@dordt.edu" target="_blank">Send Dr. Janssen an email</a> or <a class="external" href="https://calendly.com/mkjanssen/student-hours" target="_blank">set up a student hours appointment</a> if you have any questions!</li>
</ol></section></section></div></main>
</div>
</body>
</html>
